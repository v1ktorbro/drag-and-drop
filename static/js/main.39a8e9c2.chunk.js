(this["webpackJsonpdrag-and-drop"]=this["webpackJsonpdrag-and-drop"]||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(3),s=n.n(u),c=(n(9),n(1));var d=function(e){var t=e.onNewTask,n=r.a.useRef("");return r.a.createElement("form",{className:"dnd__add-task",onSubmit:function(e){e.preventDefault(),t(n.current.value),n.current.value=""}},r.a.createElement("input",{ref:n,type:"text",className:"dnd__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443",required:!0,pattern:"[A-Za-z\u0410-\u042f\u0430-\u044f -0-9]{1,40}"}),r.a.createElement("button",{type:"submit",className:"dnd__btn-submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))};var l=function(e){var t=e.defaultData,n=r.a.useState(t),a=Object(c.a)(n,2),u=a[0],s=a[1],l=r.a.useState(!1),o=Object(c.a)(l,2),i=o[0],p=o[1],f=r.a.useRef(),m=r.a.useRef(),k=function(e,t){var n=f.current;e.target!==m.current&&s((function(e){var a=JSON.parse(JSON.stringify(e));return a[t.groupIndex].tasks.splice(t.taskIndex,0,a[n.groupIndex].tasks.splice(n.taskIndex,1)),f.current=t,a}))},g=function e(){p(!1),m.current.removeEventListener("dragend",e),f.current=null,m.current=null},_=function(e){var t=f.current;return e.groupIndex===t.groupIndex&&e.taskIndex===t.taskIndex?"dnd__task dnd__task_active":"dnd__task"};return r.a.createElement("section",{className:"dnd"},r.a.createElement(d,{onNewTask:function(e){s((function(t){var n=JSON.parse(JSON.stringify(t));return n[0].tasks.unshift(e),n}))}}),r.a.createElement("div",{className:"dnd__groups"},u.map((function(e,t){return r.a.createElement("div",{onDragEnter:i&&!e.tasks.length?function(e){k(e,{groupIndex:t,taskIndex:0})}:null,className:"dnd__group",key:t},r.a.createElement("h2",{className:"dnd__title"},e.title),r.a.createElement("ul",{className:"dnd__tasks"},e.tasks.map((function(e,n){return r.a.createElement("li",{draggable:!0,onDragStart:function(e){!function(e,t){p(!0),f.current=t,m.current=e.target,m.current.addEventListener("dragend",g)}(e,{groupIndex:t,taskIndex:n})},onDragEnter:function(e){return k(e,{groupIndex:t,taskIndex:n})},className:i?_({groupIndex:t,taskIndex:n}):"dnd__task",key:n},e)}))))}))))},o=[{title:"\u041d\u0443\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c",tasks:["1","2","3"]},{title:"\u0421\u0434\u0435\u043b\u0430\u043d\u043e",tasks:["4","5"]}];var i=function(){return r.a.createElement(l,{defaultData:o})};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i,null)),document.querySelector(".content"))},4:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[4,1,2]]]);
//# sourceMappingURL=main.39a8e9c2.chunk.js.map